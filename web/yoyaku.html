<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>会議室予約システム</title>
    <script src="https://cdn.tailwindcss.com"></script>

    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&family=YuGothic:wght@400;700&display=swap">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // カレンダーの初期化
            var calendarEl = document.getElementById('calendar');
            var calendar = new FullCalendar.Calendar(calendarEl, {
                initialView: 'timeGridWeek', // 週間ビューで時間単位の表示
                locale: 'ja', // 日本語に設定
                selectable: true, // 時間帯選択を許可
                editable: true, // イベントをドラッグ可能
                eventDragMinDistance: 5, // タッチ操作時のドラッグ感度を調整
                headerToolbar: {
                    left: 'prev,next today',
                    center: 'title',
                    right: 'dayGridMonth,timeGridWeek,timeGridDay'
                },
                select: function (info) {
                    // 選択した時間帯で予約の確認
                    var name = prompt("お名前を入力してください:");
                    if (name) {
                        calendar.addEvent({
                            title: '予約済み: ' + name,
                            start: info.startStr,
                            end: info.endStr
                        });
                        alert(info.startStr + ' から ' + info.endStr + ' の予約が完了しました。');
                    }
                },
                eventClick: function (info) {
                    // イベントをクリックした際の処理（取り消し）
                    var confirmDelete = confirm(info.event.title + "の予約を取り消しますか？");
                    if (confirmDelete) {
                        info.event.remove(); // イベントを削除
                        alert("予約が取り消されました。");
                    }
                },
                eventOverlap: false, // 予約の重複を禁止
                selectOverlap: function (event) {
                    return !event; // 既に予約がある時間帯は選択不可
                }
            });

            // カレンダーを表示
            calendar.render();
        });
    </script>
    <link rel="icon" href="./image/logo.png">
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@5.11.3/main.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!-- Navbar -->
    <nav>
        <ul class="menu">
            <a href="../top.html" class="logo">
                <img src="./image/logo.png" alt="ロゴ">
            </a>
            <li>
                <a href="nav-menu1.html">「活動」を知る</a>
                <ul class="menu__child">
                    <li><a href="n-semi.html">通常ゼミ</a></li>
                    <li><a href="s-semi.html">全体ゼミ</a></li>
                    <li><a href="schedule.html">1年の流れ</a></li>
                </ul>
            </li>
            <li>
                <a href="nav-menu2.html">「人」を知る</a>
                <ul class="menu__child">
                    <li><a href="data.html">ゼミ生データ</a></li>
                    <li><a href="int_student.html">学生インタビュー</a></li>
                    <li><a href="int_teacher.html">先生インタビュー</a></li>
                </ul>
            </li>
            <li>
                <a href="nav-menu3.html">「研究」を知る</a>
                <ul class="menu__child">
                    <li><a href="droneteam.html">ドローン班</a></li>
                    <li><a href="progteam.html">プログラミング班</a></li>
                    <li><a href="individual.html">個人研究</a></li>
                </ul>
            </li>
            <li>
                <a href="passlock.html">ゼミ生専用ページ</a>
            </li>
        </ul>
    </nav>

    <main>
        <div class="container">
            <h1>山田ゼミ研究室予約システム</h1>

            <!-- カレンダー表示領域 -->
            <div id="calendar"></div>
        </div>
    </main>
    <!-- Footer -->
    <footer class="bg-light-gray text-dark-gray text-center p-4 mt-10">
        <p class="text-sm md:text-base">&copy; 2024 関西学院大学 メディア情報学科・山田孝子ゼミ. All rights reserved.
        </p>
    </footer>
</body>

</html>